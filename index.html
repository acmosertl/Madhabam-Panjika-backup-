<!DOCTYPE html><html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ü™î ‡¶Æ‡¶æ‡¶ß‡¶¨‡¶Æ ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ ‚Äî vC4 Lockpoint</title>
<style>
:root{
  --bg:#fff4e3;--card:#fff8ee;--pink:#f6a9d6;
  --red:#c62828;--gold:#ffd740;--label:#4527a0;
  --glow:#52ff8f;--shadow:0 6px 16px rgba(0,0,0,.12);
  --blue1:#0b2257;--blue2:#183a8a;
}
*{box-sizing:border-box;margin:0;padding:0}
body{margin:0;background:var(--bg);font-family:"Noto Sans Bengali",system-ui,sans-serif;color:#1a1a1a}
.wrap{max-width:860px;margin:14px auto;padding:8px}
.card{background:var(--card);border-radius:20px;padding:14px;margin:10px;box-shadow:var(--shadow)}
.title{text-align:center;font-weight:900;font-size:22px;margin-bottom:8px}/* ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ */
.pill{background:var(--pink);border-radius:14px;padding:12px}
.label{color:var(--label);font-weight:900;margin-bottom:4px}
.value{font-weight:900;font-size:26px;line-height:1.18}
.sub{font-size:16px;margin-top:4px}
.sub b{font-weight:900}

/* ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ */
.eka{background:var(--red);color:#fff;text-align:center}
.eka-name{color:var(--gold);font-size:40px;font-weight:900;letter-spacing:.2px;
text-shadow:0 0 14px #ffeb3b,0 0 28px #ffd54f}
.eka-meta{font-size:20px;font-weight:800;margin-top:4px}

/* ‡¶â‡ßé‡¶∏‡¶¨ */
.up{background:#ffe895;text-align:center;color:#b71c1c}
.up .name{font-weight:900;font-size:30px}
.up .meta{font-weight:900;font-size:20px;margin-top:4px}

/* ‡¶ú‡ßã‡¶Ø‡¶º‡¶æ‡¶∞-‡¶≠‡¶æ‡¶ü‡¶æ */
.tideBlock{background:linear-gradient(180deg,var(--blue2),var(--blue1));color:#fff;border-radius:18px;padding:12px;margin:10px}
.tbTitle{text-align:center;font-size:20px;font-weight:900;margin-bottom:8px}
.tideGrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.tCell{background:rgba(255,255,255,.1);border-radius:12px;padding:10px;text-align:center}
.tLab{color:#fff;font-weight:900;margin-bottom:2px}
.tVal{font-weight:900;font-size:22px;color:var(--glow);text-shadow:0 0 10px rgba(82,255,143,.55)}
.kolkata{color:#ffd54f;text-align:center;font-weight:900;margin-top:8px}
.kTime{color:var(--glow);font-weight:900;font-size:18px}

/* Popup Calendar Trigger */
.trigger{background:#fff8e1;text-align:center;color:#7b1fa2;font-weight:900;border-radius:16px;padding:14px;margin:10px;cursor:pointer;transition:all .2s}
.trigger:hover{box-shadow:0 0 10px rgba(123,31,162,.4);transform:scale(1.02)}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);justify-content:center;align-items:center;z-index:99}
.box{background:#fff8ee;border-radius:14px;max-width:700px;width:90%;box-shadow:var(--shadow)}
.head{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:#7b1fa2;color:#fff;font-weight:900;border-top-left-radius:14px;border-top-right-radius:14px}
.close{cursor:pointer;font-size:20px}
.body{padding:20px;text-align:center;font-weight:700;color:#3e2723}
</style>

</head>
<body>
<div class="wrap">  <!-- ü™î ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ -->  <section class="card">
    <div class="title">ü™î ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ</div>
    <div class="pill">
      <div class="label">‡¶§‡¶ø‡¶•‡¶ø</div>
      <div class="value" id="tithi">‚Äî</div>
      <div class="sub"><b>‡¶∂‡ßá‡¶∑:</b> <span id="tithiEnds">‚Äî</span> ‚Ä¢ <b>‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ:</b> <span id="tithiNext">‚Äî</span></div>
    </div>
    <div class="pill">
      <div class="label">‡¶®‡¶ï‡ßç‡¶∑‡¶§‡ßç‡¶∞</div>
      <div class="value" id="nakshatra">‚Äî</div>
      <div class="sub"><b>‡¶∂‡ßá‡¶∑:</b> <span id="nEnd">‚Äî</span> ‚Ä¢ <b>‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ:</b> <span id="nNext">‚Äî</span></div>
    </div>
    <div class="grid grid-2" style="margin-top:10px">
      <div class="pill"><div class="label">‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø‡ßã‡¶¶‡¶Ø‡¶º</div><div class="value" id="sunrise">‚Äî</div></div>
      <div class="pill"><div class="label">‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø‡¶æ‡¶∏‡ßç‡¶§</div><div class="value" id="sunset">‚Äî</div></div>
      <div class="pill"><div class="label">‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßã‡¶¶‡¶Ø‡¶º</div><div class="value" id="moonrise">‚Äî</div></div>
      <div class="pill"><div class="label">‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡ßç‡¶§</div><div class="value" id="moonset">‚Äî</div></div>
    </div>
  </section>  <!-- üìÖ Popup Trigger -->  <section class="trigger" id="openCal">üìÖ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡¶ø‡¶®‡ßç‡¶¶‡ßÅ ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</section>  <div class="modal" id="calModal">
    <div class="box">
      <div class="head">üìÖ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡¶û‡ßç‡¶ú‡¶ø‡¶ï‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ <span class="close" id="closeCal">‚úñ</span></div>
      <div class="body">üîπ Placeholder: ‡¶è‡¶ñ‡¶æ‡¶®‡ßá Full Calendar Embed ‡¶π‡¶¨‡ßá</div>
    </div>
  </div>  <!-- üåº ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ -->  <section class="card eka">
    <div class="title">üåº ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ</div>
    <div class="eka-name" id="ekaName">‚Äî</div>
    <div class="eka-meta" id="ekaDate">‚Äî</div>
    <div class="eka-meta" id="ekaLeft">‚Äî ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø</div>
    <div class="eka-meta" id="ekaParana">‚Äî</div>
  </section>  <!-- üì£ ‡¶â‡ßé‡¶∏‡¶¨ -->  <section class="card up">
    <div class="name" id="festName">üì£ ‚Äî</div>
    <div class="meta" id="festDate">‚Äî</div>
  </section>  <!-- üåä ‡¶ú‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ -->  <section class="tideBlock">
    <div class="tbTitle">üåä ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ú‡ßã‡¶Ø‡¶º‡¶æ‡¶∞</div>
    <div class="tideGrid">
      <div class="tCell"><div class="tLab">‡¶â‡¶ö‡ßç‡¶ö ‡¶ú‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ ‡ßß</div><div class="tVal" id="tj1">‚Äî</div></div>
      <div class="tCell"><div class="tLab">‡¶â‡¶ö‡ßç‡¶ö ‡¶ú‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ ‡ß®</div><div class="tVal" id="tj2">‚Äî</div></div>
    </div>
    <div class="kolkata">üïí ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ</div>
    <div class="kTime" id="kTimeJ">‚Äî</div>
  </section>  <!-- üåä ‡¶≠‡¶æ‡¶ü‡¶æ -->  <section class="tideBlock">
    <div class="tbTitle">üåä ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶≠‡¶æ‡¶ü‡¶æ</div>
    <div class="tideGrid">
      <div class="tCell"><div class="tLab">‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶≠‡¶æ‡¶ü‡¶æ ‡ßß</div><div class="tVal" id="tv1">‚Äî</div></div>
      <div class="tCell"><div class="tLab">‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶≠‡¶æ‡¶ü‡¶æ ‡ß®</div><div class="tVal" id="tv2">‚Äî</div></div>
    </div>
    <div class="kolkata">üïí ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ</div>
    <div class="kTime" id="kTimeV">‚Äî</div>
  </section></div><script>
// Popup Calendar
const openCal=document.getElementById('openCal'),calModal=document.getElementById('calModal'),closeCal=document.getElementById('closeCal');
openCal.onclick=()=>calModal.style.display='flex';
closeCal.onclick=()=>calModal.style.display='none';
window.onclick=e=>{if(e.target===calModal)calModal.style.display='none'};

// 24h ‚Üí 12h Converter
function to12H(t){if(!t)return '‚Äî';const [h,m]=t.split(':');let hh=parseInt(h),ampm=hh>=12?'PM':'AM';hh=hh%12||12;return `${hh}:${m} ${ampm}`;}

(async()=>{
 try{
  const res=await fetch('/api/update');const d=await res.json();const p=d.data||d;
  document.getElementById('sunrise').textContent=to12H(p.sunrise);
  document.getElementById('sunset').textContent=to12H(p.sunset);
  document.getElementById('moonrise').textContent=to12H(p.moonrise);
  document.getElementById('moonset').textContent=to12H(p.moonset);
  document.getElementById('tithi').textContent=p.tithi||'‚Äî';
  document.getElementById('tithiEnds').textContent=p.tithi_end||'‚Äî';
  document.getElementById('tithiNext').textContent=p.tithi_next||'‚Äî';
  document.getElementById('nakshatra').textContent=p.nakshatra||'‚Äî';
  document.getElementById('nEnd').textContent=p.nak_end||'‚Äî';
  document.getElementById('nNext').textContent=p.nak_next||'‚Äî';
  document.getElementById('ekaName').textContent=p.ekadashi?.name||'‚Äî';
  document.getElementById('ekaDate').textContent=p.ekadashi?.date||'‚Äî';
  document.getElementById('ekaLeft').textContent=`${p.ekadashi?.days_left||'‚Äî'} ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø`;
  document.getElementById('ekaParana').textContent=`‡¶™‡¶æ‡¶∞‡¶£: ${p.ekadashi?.paran_start||'-'} ‚Äì ${p.ekadashi?.paran_end||'-'}`;
  document.getElementById('festName').textContent=p.events?.[0]?.name||'‚Äî';
  document.getElementById('festDate').textContent=`${p.events?.[0]?.date||''} ‚Ä¢ ${p.events?.[0]?.days_left||'-'} ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞‡ßá`;
  document.getElementById('tj1').textContent=to12H(p.tide?.high1);
  document.getElementById('tj2').textContent=to12H(p.tide?.high2);
  document.getElementById('tv1').textContent=to12H(p.tide?.low1);
  document.getElementById('tv2').textContent=to12H(p.tide?.low2);
  document.getElementById('kTimeJ').textContent=p.tide?.city||'‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ';
  document.getElementById('kTimeV').textContent=new Date().toLocaleTimeString('bn-BD',{hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});
 }catch(e){console.error('Panchika Load Error:',e);}
})();
</script></body>
</html>
