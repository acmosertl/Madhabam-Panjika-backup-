<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ржорж╛ржзржмржо ржкржЮрзНржЬрж┐ржХрж╛</title>
<style>
  body {
    font-family: "Noto Sans Bengali", sans-serif;
    background: #fff1d6;
    margin: 0;
    padding: 20px;
  }
  .panel {
    border-radius: 16px;
    padding: 12px 14px;
    margin-bottom: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }
  .panchika {
    background: linear-gradient(to bottom, #ffe97a, #ffd740);
    text-align: center;
  }
  .panchika h2 { color: #663300; margin: 6px 0 10px; font-size: 1.3em; }
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
  }
  .cell {
    background: #ff9ee7;
    border-radius: 10px;
    padding: 6px;
    font-size: 1em;
  }
  .label {
    color: #fff;
    text-shadow: 0 0 4px #000;
    display: block;
  }
  .value { font-weight: bold; color: #000; }
  .ekadashi {
    background: #d32f2f;
    color: #fff;
    text-align: center;
    font-size: 1.1em;
  }
  .ekadashi h3 { margin: 0 0 8px; }
  .festival {
    background: #fff59d;
    color: #b71c1c;
    text-align: center;
    font-size: 1.05em;
  }
  .tide {
    background: linear-gradient(to bottom, #1e3a8a, #0d1b4c);
    color: #fff;
  }
  .tide h3 { text-align:center; margin:4px 0 8px;}
  .tide-grid {
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:8px;
  }
  .tide-cell {
    background: rgba(255,255,255,0.15);
    padding:6px;
    border-radius:10px;
  }
  .icon {
    text-shadow: 0 0 6px rgba(255,255,255,0.8);
    font-size:1.3em;
  }
  .popup-trigger {
    background:#FFF8E1;
    color:#7B1FA2;
    text-align:center;
    border-radius:12px;
    padding:10px;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 2px 6px rgba(0,0,0,0.2);
  }
  .popup-trigger:hover {
    box-shadow:0 0 10px rgba(123,31,162,0.5);
  }
</style>
</head>
<body>
  <div class="panel panchika">
    <h2>ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛</h2>
    <div class="grid">
      <div class="cell"><span class="label">рждрж┐ржерж┐</span><span id="tithi" class="value">-</span></div>
      <div class="cell"><span class="label">ржиржХрзНрж╖рждрзНрж░</span><span id="nakshatra" class="value">-</span></div>
      <div class="cell"><span class="label">рж╕рзВрж░рзНржпрзЛржжржпрж╝</span><span id="sunrise" class="value">-</span></div>
      <div class="cell"><span class="label">рж╕рзВрж░рзНржпрж╛рж╕рзНржд</span><span id="sunset" class="value">-</span></div>
      <div class="cell"><span class="label">ржЪржирзНржжрзНрж░рзЛржжржпрж╝</span><span id="moonrise" class="value">-</span></div>
      <div class="cell"><span class="label">ржЪржирзНржжрзНрж░рж╛рж╕рзНржд</span><span id="moonset" class="value">-</span></div>
    </div>
    <div style="font-size:0.9em;margin-top:8px;">рж╕рзВрж░рзНржпржЪржХрзНрж░ Sync рж╕ржХрзНрж░рж┐ржпрж╝ ┬╖ ржкрзНрж░рждрж┐ рзй ржШржгрзНржЯрж╛ржпрж╝ ржЖржкржбрзЗржЯ</div>
  </div>

  <div class="panel ekadashi">
    <h3>ЁЯХЙя╕П ржкрж░ржмрж░рзНрждрзА ржПржХрж╛ржжрж╢рзА</h3>
    <div id="ekadashiName">--</div>
    <div id="ekadashiDate">--</div>
    <div id="ekadashiLeft">--</div>
  </div>

  <div class="panel festival">
    <div class="icon">ЁЯУг</div>
    <div><b>ржЖрж╕ржирзНржи ржЙрзОрж╕ржм:</b> ржЧрзАрждрж╛ ржЬржпрж╝ржирзНрждрзА</div>
    <div>рзйрзи ржжрж┐ржи ржкрж░</div>
  </div>

  <div class="panel tide">
    <h3>ЁЯМК ржЖржЬржХрзЗрж░ ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛</h3>
    <div class="tide-grid">
      <div class="tide-cell"><b>ржЬрзЛржпрж╝рж╛рж░ рзз:</b> <span id="tideHigh1">-</span></div>
      <div class="tide-cell"><b>ржЬрзЛржпрж╝рж╛рж░ рзи:</b> <span id="tideHigh2">-</span></div>
      <div class="tide-cell"><b>ржнрж╛ржЯрж╛ рзз:</b> <span id="tideLow1">-</span></div>
      <div class="tide-cell"><b>ржнрж╛ржЯрж╛ рзи:</b> <span id="tideLow2">-</span></div>
    </div>
  </div>

  <div class="popup-trigger" id="calendarTrigger">ЁЯУЕ рж╕ржорзНржкрзВрж░рзНржг рж╣рж┐ржирзНржжрзБ ржкржЮрзНржЬрж┐ржХрж╛ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржжрзЗржЦрзБржи</div>

<script>
fetch('/api/panchika')
  .then(res => res.json())
  .then(data => {
    document.getElementById('tithi').textContent = data.tithi || '-';
    document.getElementById('nakshatra').textContent = data.nakshatra || '-';
    document.getElementById('sunrise').textContent = data.sunrise;
    document.getElementById('sunset').textContent = data.sunset;
    document.getElementById('moonrise').textContent = data.moonrise;
    document.getElementById('moonset').textContent = data.moonset;

    const e = data.ekadashi;
    if (e) {
      document.getElementById('ekadashiName').textContent = e.name;
      document.getElementById('ekadashiDate').textContent = e.date;
      document.getElementById('ekadashiLeft').textContent = `${e.days_left} ржжрж┐ржи ржкрж░`;
    }
  })
  .catch(err => console.error(err));
</script>
</body>
</html>
