<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ЁЯкФ ржорж╛ржзржмржо ржкржЮрзНржЬрж┐ржХрж╛ vC1.4</title>
<style>
:root {
  --bg:#fff4e3;--card:#fff8ee;--pink:#f7a9d6;
  --red:#c62828;--gold:#ffd740;--deep:#0d2a68;
  --label:#4527a0;--shadow:0 6px 16px rgba(0,0,0,.12);
}
body{margin:0;background:var(--bg);font-family:"Noto Sans Bengali",sans-serif}
.wrap{max-width:820px;margin:16px auto;padding:8px}
.card{background:var(--card);border-radius:22px;padding:16px;margin:12px;box-shadow:var(--shadow)}
.title{text-align:center;font-weight:800;font-size:22px;margin-bottom:10px}
.grid{display:grid;gap:12px}
.grid-2{grid-template-columns:1fr 1fr}
.pill{background:var(--pink);border-radius:16px;padding:14px}
.label{color:var(--label);font-weight:700;margin-bottom:4px}
.value{font-weight:900;font-size:26px}
/* Ekadashi */
.eka{background:var(--red);color:#fff;text-align:center}
.eka-name{color:var(--gold);font-size:36px;font-weight:900;
text-shadow:0 0 10px #ffd740c9,0 0 25px #ffecb3a8;}
.eka-meta{font-size:18px;font-weight:700;margin-top:4px}
/* Tide */
.tide{background:linear-gradient(180deg,#183a8a,#0d2a68);color:#fff;text-align:center}
.tideGrid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
.tideCell{background:rgba(255,255,255,.1);border-radius:14px;padding:12px}
.tideLab{font-weight:700;margin-bottom:2px}
.tideVal{font-weight:900;font-size:20px}
/* Calendar trigger */
.cal{text-align:center;background:#fff7d9;font-weight:800;color:#512da8}
</style>
</head>
<body>
<div class="wrap">

<!-- ржкржЮрзНржЬрж┐ржХрж╛ -->
<section class="card">
  <div class="title">ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛</div>
  <div class="grid">
    <div class="pill"><div class="label">рждрж┐ржерж┐</div><div class="value" id="tithi">тАФ</div></div>
    <div class="pill"><div class="label">ржкржХрзНрж╖</div><div class="value" id="paksha">тАФ</div></div>
    <div class="pill"><div class="label">ржиржХрзНрж╖рждрзНрж░</div><div class="value" id="nakshatra">тАФ</div></div>
  </div>
  <div class="grid grid-2" style="margin-top:12px">
    <div class="pill"><div class="label">рж╕рзВрж░рзНржпрзЛржжржпрж╝</div><div class="value" id="sunrise">тАФ</div></div>
    <div class="pill"><div class="label">рж╕рзВрж░рзНржпрж╛рж╕рзНржд</div><div class="value" id="sunset">тАФ</div></div>
    <div class="pill"><div class="label">ржЪржирзНржжрзНрж░рзЛржжржпрж╝</div><div class="value" id="moonrise">тАФ</div></div>
    <div class="pill"><div class="label">ржЪржирзНржжрзНрж░рж╛рж╕рзНржд</div><div class="value" id="moonset">тАФ</div></div>
  </div>
</section>

<!-- Calendar Trigger -->
<section class="card cal">ЁЯУЕ рж╕ржорзНржкрзВрж░рзНржг рж╣рж┐ржирзНржжрзБ ржкржЮрзНржЬрж┐ржХрж╛ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржжрзЗржЦрзБржи</section>

<!-- ржПржХрж╛ржжрж╢рзА -->
<section class="card eka">
  <div class="title">ЁЯМ╝ ржкрж░ржмрж░рзНрждрзА ржПржХрж╛ржжрж╢рзА</div>
  <div class="eka-name" id="ekaName">тАФ</div>
  <div class="eka-meta" id="ekaDate">тАФ</div>
  <div class="eka-meta" id="ekaLeft">тАФ ржжрж┐ржи ржмрж╛ржХрж┐</div>
</section>

<!-- Tide -->
<section class="card tide">
  <div class="title">ЁЯМК ржЖржЬржХрзЗрж░ ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛</div>
  <div class="tideGrid">
    <div class="tideCell"><div class="tideLab">ржЙржЪрзНржЪ ржЬрзЛржпрж╝рж╛рж░ рзз</div><div class="tideVal" id="t1">тАФ</div></div>
    <div class="tideCell"><div class="tideLab">ржЙржЪрзНржЪ ржЬрзЛржпрж╝рж╛рж░ рзи</div><div class="tideVal" id="t2">тАФ</div></div>
    <div class="tideCell"><div class="tideLab">ржирж┐ржорзНржи ржнрж╛ржЯрж╛ рзз</div><div class="tideVal" id="t3">тАФ</div></div>
    <div class="tideCell"><div class="tideLab">ржирж┐ржорзНржи ржнрж╛ржЯрж╛ рзи</div><div class="tideVal" id="t4">тАФ</div></div>
  </div>
</section>

</div>

<script>
(async()=>{
  const bn=(s)=>String(s).replace(/\d/g,d=>"рзжрззрзирзйрзкрзлрзмрзнрзорзп"[d]);
  const j=await fetch('/api/panchika').then(r=>r.json());
  document.getElementById('tithi').textContent=j.tithi;
  document.getElementById('paksha').textContent=j.paksha;
  document.getElementById('nakshatra').textContent=j.nakshatra;
  ['sunrise','sunset','moonrise','moonset'].forEach(id=>{
    document.getElementById(id).textContent=j[id]||'тАФ';
  });
  document.getElementById('ekaName').textContent=j.ekadashi.name;
  document.getElementById('ekaDate').textContent=bn(j.ekadashi.date);
  document.getElementById('ekaLeft').textContent=bn(j.ekadashi.days_left)+' ржжрж┐ржи ржмрж╛ржХрж┐';
  document.getElementById('t1').textContent=j.tide[0].time;
  document.getElementById('t2').textContent=j.tide[1].time;
  document.getElementById('t3').textContent=j.tide[2].time;
  document.getElementById('t4').textContent=j.tide[3].time;
})();
</script>

</body>
</html>
