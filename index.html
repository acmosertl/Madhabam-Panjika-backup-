<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ЁЯкФ ржорж╛ржзржмржо ржкржЮрзНржЬрж┐ржХрж╛ vC5</title>
<style>
:root{
  --bg:#fff4e3;--card:#fff8ee;--pink:#f6a9d6;
  --red:#c62828;--gold:#ffd740;--label:#4527a0;
  --glow:#52ff8f;--shadow:0 6px 16px rgba(0,0,0,.12);
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);font-family:"Noto Sans Bengali",system-ui,sans-serif;color:#1a1a1a}
.wrap{max-width:860px;margin:14px auto;padding:8px}
.card{background:var(--card);border-radius:20px;padding:14px;margin:10px;box-shadow:var(--shadow)}
.title{text-align:center;font-weight:900;font-size:22px;margin-bottom:8px}
.grid{display:grid;gap:10px}
.grid-2{grid-template-columns:1fr 1fr}

/* ржкржЮрзНржЬрж┐ржХрж╛ */
.pill{background:var(--pink);border-radius:14px;padding:12px}
.label{color:var(--label);font-weight:900;margin-bottom:4px}
.value{font-weight:900;font-size:26px;line-height:1.18}
.sub{font-size:16px;margin-top:4px}
.sub b{font-weight:900}

/* ржПржХрж╛ржжрж╢рзА */
.eka{background:var(--red);color:#fff;text-align:center}
.eka-name{color:var(--gold);font-size:40px;font-weight:900;letter-spacing:.2px;
  text-shadow:0 0 14px #ffeb3b,0 0 28px #ffd54f}
.eka-meta{font-size:20px;font-weight:800;margin-top:4px}

/* ржЙрзОрж╕ржм */
.up{background:#ffe895;text-align:center;color:#b71c1c}
.up .name{font-weight:900;font-size:30px}
.up .meta{font-weight:900;font-size:20px;margin-top:4px}

/* ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛ */
.tideBlock{background:linear-gradient(180deg,#183a8a,#0b2257);color:#fff;border-radius:18px;padding:12px;margin:10px}
.tbTitle{text-align:center;font-size:20px;font-weight:900;margin-bottom:8px}
.tideGrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.tCell{background:rgba(255,255,255,.1);border-radius:12px;padding:10px;text-align:center}
.tLab{color:#fff;font-weight:900;margin-bottom:2px}
.tVal{font-weight:900;font-size:22px;color:var(--glow);text-shadow:0 0 10px rgba(82,255,143,.55)}
.kolkata{color:#ffd54f;text-align:center;font-weight:900;margin-top:8px}
.kTime{color:var(--glow);font-weight:900;font-size:18px}
</style>
</head>
<body>
<div class="wrap">

  <!-- ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛ -->
  <section class="card">
    <div class="title">ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛</div>
    <div class="grid">
      <div class="pill">
        <div class="label">рждрж┐ржерж┐</div>
        <div class="value" id="tithi">тАФ</div>
        <div class="sub"><b>рж╢рзЗрж╖:</b> <span id="tithiEnds">тАФ</span> &nbsp;тАв&nbsp; <b>ржкрж░ржмрж░рзНрждрзА:</b> <span id="tithiNext">тАФ</span></div>
      </div>
      <div class="pill">
        <div class="label">ржкржХрзНрж╖</div>
        <div class="value" id="paksha">тАФ</div>
      </div>
      <div class="pill">
        <div class="label">ржиржХрзНрж╖рждрзНрж░</div>
        <div class="value" id="nakshatra">тАФ</div>
        <div class="sub"><b>рж╢рзЗрж╖:</b> <span id="nEnd">тАФ</span> &nbsp;тАв&nbsp; <b>ржкрж░ржмрж░рзНрждрзА:</b> <span id="nNext">тАФ</span></div>
      </div>
    </div>
    <div class="grid grid-2" style="margin-top:10px">
      <div class="pill"><div class="label">рж╕рзВрж░рзНржпрзЛржжржпрж╝</div><div class="value" id="sunrise">тАФ</div></div>
      <div class="pill"><div class="label">рж╕рзВрж░рзНржпрж╛рж╕рзНржд</div><div class="value" id="sunset">тАФ</div></div>
      <div class="pill"><div class="label">ржЪржирзНржжрзНрж░рзЛржжржпрж╝</div><div class="value" id="moonrise">тАФ</div></div>
      <div class="pill"><div class="label">ржЪржирзНржжрзНрж░рж╛рж╕рзНржд</div><div class="value" id="moonset">тАФ</div></div>
    </div>
  </section>

  <!-- ЁЯМ╝ ржПржХрж╛ржжрж╢рзА -->
  <section class="card eka">
    <div class="title">ЁЯМ╝ ржкрж░ржмрж░рзНрждрзА ржПржХрж╛ржжрж╢рзА</div>
    <div class="eka-name" id="ekaName">тАФ</div>
    <div class="eka-meta" id="ekaDate">тАФ</div>
    <div class="eka-meta" id="ekaLeft">тАФ ржжрж┐ржи ржмрж╛ржХрж┐</div>
    <div class="eka-meta" id="ekaParana">тАФ</div>
  </section>

  <!-- ЁЯУг ржЙрзОрж╕ржм -->
  <section class="card up">
    <div class="name" id="festName">ЁЯУг тАФ</div>
    <div class="meta" id="festDate">тАФ</div>
  </section>

  <!-- ЁЯМК ржЬрзЛржпрж╝рж╛рж░ -->
  <section class="tideBlock">
    <div class="tbTitle">ЁЯМК ржЖржЬржХрзЗрж░ ржЬрзЛржпрж╝рж╛рж░</div>
    <div class="tideGrid">
      <div class="tCell"><div class="tLab">ржЙржЪрзНржЪ ржЬрзЛржпрж╝рж╛рж░ рзз</div><div class="tVal" id="tj1">тАФ</div></div>
      <div class="tCell"><div class="tLab">ржЙржЪрзНржЪ ржЬрзЛржпрж╝рж╛рж░ рзи</div><div class="tVal" id="tj2">тАФ</div></div>
    </div>
    <div class="kolkata">ЁЯХТ ржХрж▓ржХрж╛рждрж╛</div>
    <div class="kTime" id="kTimeJ">тАФ</div>
  </section>

  <!-- ЁЯМК ржнрж╛ржЯрж╛ -->
  <section class="tideBlock">
    <div class="tbTitle">ЁЯМК ржЖржЬржХрзЗрж░ ржнрж╛ржЯрж╛</div>
    <div class="tideGrid">
      <div class="tCell"><div class="tLab">ржирж┐ржорзНржи ржнрж╛ржЯрж╛ рзз</div><div class="tVal" id="tv1">тАФ</div></div>
      <div class="tCell"><div class="tLab">ржирж┐ржорзНржи ржнрж╛ржЯрж╛ рзи</div><div class="tVal" id="tv2">тАФ</div></div>
    </div>
    <div class="kolkata">ЁЯХТ ржХрж▓ржХрж╛рждрж╛</div>
    <div class="kTime" id="kTimeV">тАФ</div>
  </section>

</div>

<!-- ЁЯФД Panchika Auto Engine -->
<script>
async function loadPanchika(){
  try{
    const res = await fetch('https://madhabam-panjika.vercel.app/api/update?ts=' + Date.now());
    const j = await res.json();
    if(!j.ok || !j.data){ console.warn("тЭМ No Panchika Data"); return; }

    const p = j.data;
    const set = (id,v)=>{ const e=document.getElementById(id); if(e) e.textContent=v||'тАФ'; };
    const fmt = t => {
      if(!t) return 'тАФ';
      let [h,m] = t.split(':').map(Number);
      const ampm = h>=12?'PM':'AM';
      h = h%12||12;
      return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')} ${ampm}`;
    };

    // ЁЯкФ Panchika base
    set('tithi', p.tithi);
    set('paksha', p.paksha);
    set('nakshatra', p.nakshatra);
    set('sunrise', fmt(p.sunrise));
    set('sunset', fmt(p.sunset));
    set('moonrise', fmt(p.moonrise));
    set('moonset', fmt(p.moonset));

    // ЁЯМ╝ Ekadashi
    if(p.ekadashi){
      set('ekaName', p.ekadashi.name);
      set('ekaDate', new Date(p.ekadashi.date).toLocaleDateString('bn-BD'));
      set('ekaLeft', `${p.ekadashi.days_left} ржжрж┐ржи ржмрж╛ржХрж┐`);
      set('ekaParana', p.ekadashi.parana || 'тАФ');
    }

    // ЁЯУг Festival
    if(p.events && p.events.length){
      set('festName', p.events[0].name);
      set('festDate', `${new Date(p.events[0].date).toLocaleDateString('bn-BD')} тАв ${p.events[0].days_left} ржжрж┐ржи ржкрж░рзЗ`);
    }

    // ЁЯМК Tide
    if(p.tide && p.tide.length>=4){
      set('tj1', fmt(p.tide[0].time));
      set('tj2', fmt(p.tide[1].time));
      set('tv1', fmt(p.tide[2].time));
      set('tv2', fmt(p.tide[3].time));
    }

    // ЁЯХТ Kolkata time
    const now = new Date();
    const kol = now.toLocaleTimeString('bn-BD',{hour12:true});
    set('kTimeJ', kol);
    set('kTimeV', kol);
    console.log("тЬЕ Panchika Updated:", p);
  }
  catch(err){ console.error("тЪая╕П Panchika Load Failed:", err); }
}

// ржкрзНрж░ржержоржмрж╛рж░ рж▓рзЛржбрзЗрж░ рж╕ржорзЯ
loadPanchika();

// ржкрзНрж░рждрж┐ рзй ржШржгрзНржЯрж╛ ржкрж░ рж░рж┐ржлрзНрж░рзЗрж╢
setInterval(loadPanchika,10800000);
</script>
</body>
</html>
