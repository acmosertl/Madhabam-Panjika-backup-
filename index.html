<div id="madhabam-panel" style="font-family:'Noto Sans Bengali',sans-serif;background:#fff1d6;padding:10px;border-radius:16px;max-width:360px;margin:auto;">
  <!-- ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛ ржХрж╛рж░рзНржб -->
  <div style="background:linear-gradient(to bottom,#fef08a,#fde047);border-radius:16px;padding:10px;margin-bottom:8px;text-align:center;">
    <h3>ЁЯкФ ржкржЮрзНржЬрж┐ржХрж╛</h3>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:4px;">
      <div>рждрж┐ржерж┐<br><b id="tithi">-</b></div>
      <div>ржиржХрзНрж╖рждрзНрж░<br><b id="nakshatra">-</b></div>
      <div>рж╕рзВрж░рзНржпрзЛржжржпрж╝<br><b id="sunrise">-</b></div>
      <div>рж╕рзВрж░рзНржпрж╛рж╕рзНржд<br><b id="sunset">-</b></div>
      <div>ржЪржирзНржжрзНрж░рзЛржжржпрж╝<br><b id="moonrise">-</b></div>
      <div>ржЪржирзНржжрзНрж░рж╛рж╕рзНржд<br><b id="moonset">-</b></div>
    </div>
  </div>

  <!-- ЁЯМ╝ ржПржХрж╛ржжрж╢рзА ржХрж╛рж░рзНржб -->
  <div style="background:#dc2626;color:#fff;border-radius:16px;padding:10px;text-align:center;margin-bottom:8px;">
    <h3>ЁЯХЙя╕П ржкрж░ржмрж░рзНрждрзА ржПржХрж╛ржжрж╢рзА</h3>
    <div id="ekadashiName" style="font-size:1.2em;margin:6px 0;">тАФ</div>
    <div id="ekadashiDate">тАФ</div>
    <div id="ekadashiDays" style="opacity:.8;">тАФ</div>
  </div>

  <!-- ЁЯМК ржЬрзЛржпрж╝рж╛рж░-ржнрж╛ржЯрж╛ ржХрж╛рж░рзНржб -->
  <div style="background:linear-gradient(to bottom,#2563eb,#0f172a);color:#fff;border-radius:16px;padding:10px;margin-bottom:8px;">
    <h3>ЁЯМК ржЬрзЛржпрж╝рж╛рж░ ржУ ржнрж╛ржЯрж╛</h3>
    <div id="tideList" style="display:grid;grid-template-columns:1fr 1fr;gap:6px;"></div>
  </div>

  <!-- ЁЯУЕ ржкржкржЖржк ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржЯрзНрж░рж┐ржЧрж╛рж░ -->
  <div id="popupTrigger" style="background:#fff8e1;color:#7b1fa2;border-radius:16px;padding:10px;text-align:center;box-shadow:0 0 6px rgba(0,0,0,0.2);">
    ЁЯУЕ рж╕ржорзНржкрзВрж░рзНржг рж╣рж┐ржирзНржжрзБ ржкржЮрзНржЬрж┐ржХрж╛ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ржЦрзБрж▓рзБржи
  </div>
</div>

<script>
async function loadPanchika(){
  try{
    const res=await fetch("/api/panchika");
    const data=await res.json();
    document.getElementById("tithi").textContent=data.tithi;
    document.getElementById("nakshatra").textContent=data.nakshatra;
    document.getElementById("sunrise").textContent=data.sunrise;
    document.getElementById("sunset").textContent=data.sunset;
    document.getElementById("moonrise").textContent=data.moonrise;
    document.getElementById("moonset").textContent=data.moonset;

    // ржПржХрж╛ржжрж╢рзА
    document.getElementById("ekadashiName").textContent=data.ekadashi.name;
    document.getElementById("ekadashiDate").textContent="ЁЯУЕ "+data.ekadashi.date;
    document.getElementById("ekadashiDays").textContent=`тП│ ${data.ekadashi.days_left} ржжрж┐ржи ржмрж╛ржХрж┐`;

    // ржЬрзЛржпрж╝рж╛рж░ ржнрж╛ржЯрж╛
    const t=document.getElementById("tideList");
    t.innerHTML=data.tide.map(d=>`
      <div style='background:rgba(255,255,255,0.15);border-radius:10px;padding:6px;text-align:center;'>
        <b>${d.label}</b><br>${d.time}<br>${d.height} ржорж┐
      </div>`).join("");

  }catch(e){console.error(e);}
}
loadPanchika();
</script>
